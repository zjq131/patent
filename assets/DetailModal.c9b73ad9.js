var pe=Object.defineProperty,ve=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;var te=(t,e,n)=>e in t?pe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_=(t,e)=>{for(var n in e||(e={}))ye.call(e,n)&&te(t,n,e[n]);if(ee)for(var n of ee(e))be.call(e,n)&&te(t,n,e[n]);return t},q=(t,e)=>ve(t,me(e));import{B as Ce}from"./index.413821cd.js";import{p as a,S as N,U as Se,v as M,F as he,X as ge,dv as xe,dw as we,_ as D,L as f,a as V,an as ne,a7 as _e,as as De,Z as ie,a9 as Pe,a4 as $e,bQ as le,f as B,al as je,am as Ie,W as Oe,b as ke,dx as Re,j as i,aC as ue,dp as Be,dy as Le,ci as Ne,bq as oe,bv as Me,dr as Ae,aD as Ee,c as ze,o as Ve,k as Fe,B as Ue}from"./index.f13df184.js";import{R as ae,r as re}from"./responsiveObserve.056994ac.js";import{g as We}from"./get.3bd42a14.js";import{getDescSchema as Te}from"./data.e2616ca0.js";import"./useWindowSizeFn.9af2568f.js";import"./FullscreenOutlined.d9c26082.js";import"./isEqual.1f535f8c.js";import"./_baseIsEqual.cda019a9.js";import"./index.e3cafa27.js";function z(t){return t!=null}var qe=function(e){var n=e.itemPrefixCls,l=e.component,r=e.span,o=e.labelStyle,c=e.contentStyle,m=e.bordered,d=e.label,p=e.content,u=e.colon,P=l;if(m){var h;return a(P,{class:[(h={},N(h,"".concat(n,"-item-label"),z(d)),N(h,"".concat(n,"-item-content"),z(p)),h)],colSpan:r},{default:function(){return[z(d)&&a("span",{style:o},[d]),z(p)&&a("span",{style:c},[p])]}})}return a(P,{class:["".concat(n,"-item")],colSpan:r},{default:function(){return[a("div",{class:"".concat(n,"-item-container")},[d&&a("span",{class:["".concat(n,"-item-label"),N({},"".concat(n,"-item-no-colon"),!u)],style:o},[d]),p&&a("span",{class:"".concat(n,"-item-content"),style:c},[p])])]}})},Q=qe,Qe=function(e){var n=function(h,g,y){var k=g.colon,A=g.prefixCls,s=g.bordered,b=y.component,v=y.type,w=y.showLabel,R=y.showContent,j=y.labelStyle,$=y.contentStyle;return h.map(function(C,I){var O,x,S=C.props||{},E=S.prefixCls,F=E===void 0?A:E,X=S.span,Z=X===void 0?1:X,G=S.labelStyle,H=S.contentStyle,J=S.label,K=J===void 0?(x=(O=C.children)===null||O===void 0?void 0:O.label)===null||x===void 0?void 0:x.call(O):J,Y=ge(C),U=xe(C),W=we(C),T=C.key;return typeof b=="string"?a(Q,{key:"".concat(v,"-").concat(String(T)||I),class:U,style:W,labelStyle:D(D({},j.value),G),contentStyle:D(D({},$.value),H),span:Z,colon:k,component:b,itemPrefixCls:F,bordered:s,label:w?K:null,content:R?Y:null},null):[a(Q,{key:"label-".concat(String(T)||I),class:U,style:D(D(D({},j.value),W),G),span:1,colon:k,component:b[0],itemPrefixCls:F,bordered:s,label:K},null),a(Q,{key:"content-".concat(String(T)||I),class:U,style:D(D(D({},$.value),W),H),span:Z*2-1,component:b[1],itemPrefixCls:F,bordered:s,content:Y},null)]})},l=e.prefixCls,r=e.vertical,o=e.row,c=e.index,m=e.bordered,d=Se(fe,{labelStyle:M({}),contentStyle:M({})}),p=d.labelStyle,u=d.contentStyle;return r?a(he,null,[a("tr",{key:"label-".concat(c),class:"".concat(l,"-row")},[n(o,e,{component:"th",type:"label",showLabel:!0,labelStyle:p,contentStyle:u})]),a("tr",{key:"content-".concat(c),class:"".concat(l,"-row")},[n(o,e,{component:"td",type:"content",showContent:!0,labelStyle:p,contentStyle:u})])]):a("tr",{key:c,class:"".concat(l,"-row")},[n(o,e,{component:m?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0,labelStyle:p,contentStyle:u})])},Xe=Qe;f.string,f.any,f.number;var Ze={prefixCls:f.string,label:f.VNodeChild,labelStyle:f.style,contentStyle:f.style,span:f.number.def(1)},Ge=V({name:"ADescriptionsItem",props:Ze,slots:["label"],setup:function(e,n){var l=n.slots;return function(){var r;return(r=l.default)===null||r===void 0?void 0:r.call(l)}}}),de={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function He(t,e){if(typeof t=="number")return t;if(ie(t)==="object")for(var n=0;n<re.length;n++){var l=re[n];if(e[l]&&t[l]!==void 0)return t[l]||de[l]}return 3}function se(t,e,n){var l=t;return(e===void 0||e>n)&&(l=Ie(t,{span:n}),Oe(e===void 0,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),l}function Je(t,e){var n=je(t),l=[],r=[],o=e;return n.forEach(function(c,m){var d,p=(d=c.props)===null||d===void 0?void 0:d.span,u=p||1;if(m===n.length-1){r.push(se(c,p,o)),l.push(r);return}u<o?(o-=u,r.push(c)):(r.push(se(c,u,o)),l.push(r),o=e,r=[])}),l}var Ke={prefixCls:f.string,bordered:f.looseBool,size:f.oneOf(ne("default","middle","small")).def("default"),title:f.VNodeChild,extra:f.VNodeChild,column:{type:[Number,Object],default:function(){return de}},layout:f.oneOf(ne("horizontal","vertical")),colon:f.looseBool,labelStyle:f.style,contentStyle:f.style},fe=Symbol("descriptionsContext"),L=V({name:"ADescriptions",props:Ke,slots:["title","extra"],Item:Ge,setup:function(e,n){var l=n.slots,r=_e("descriptions",e),o=r.prefixCls,c=r.direction,m,d=M({});De(function(){m=ae.subscribe(function(u){ie(e.column)==="object"&&(d.value=u)})}),Pe(function(){ae.unsubscribe(m)}),$e(fe,{labelStyle:le(e,"labelStyle"),contentStyle:le(e,"contentStyle")});var p=B(function(){return He(e.column,d.value)});return function(){var u,P,h,g,y=e.size,k=e.bordered,A=k===void 0?!1:k,s=e.layout,b=s===void 0?"horizontal":s,v=e.colon,w=v===void 0?!0:v,R=e.title,j=R===void 0?(P=l.title)===null||P===void 0?void 0:P.call(l):R,$=e.extra,C=$===void 0?(h=l.extra)===null||h===void 0?void 0:h.call(l):$,I=(g=l.default)===null||g===void 0?void 0:g.call(l),O=Je(I,p.value);return a("div",{class:[o.value,(u={},N(u,"".concat(o.value,"-").concat(y),y!=="default"),N(u,"".concat(o.value,"-bordered"),!!A),N(u,"".concat(o.value,"-rtl"),c.value==="rtl"),u)]},[(j||C)&&a("div",{class:"".concat(o.value,"-header")},[j&&a("div",{class:"".concat(o.value,"-title")},[j]),C&&a("div",{class:"".concat(o.value,"-extra")},[C])]),a("div",{class:"".concat(o.value,"-view")},[a("table",null,[a("tbody",null,[O.map(function(x,S){return a(Xe,{key:S,index:S,colon:w,prefixCls:o.value,vertical:b==="vertical",bordered:A,row:x},null)})])])])])}}});L.install=function(t){return t.component(L.name,L),t.component(L.Item.name,L.Item),t};var ce=L;function Ye(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ne(t)}const et={useCollapse:{type:Boolean,default:!0},title:{type:String,default:""},size:{type:String,validator:t=>["small","default","middle",void 0].includes(t),default:"small"},bordered:{type:Boolean,default:!0},column:{type:[Number,Object],default:()=>({xxl:4,xl:3,lg:3,md:3,sm:2,xs:1})},collapseOptions:{type:Object,default:null},schema:{type:Array,default:()=>[]},data:{type:Object}};var tt=V({name:"Description",props:et,emits:["register"],setup(t,{slots:e,emit:n}){const l=M(null),{prefixCls:r}=ke("description"),o=Re(),c=B(()=>_(_({},t),i(l))),m=B(()=>q(_({},i(c)),{title:void 0})),d=B(()=>!!i(c).title),p=B(()=>_({canExpand:!1},i(m).collapseOptions)),u=B(()=>_(_({},i(o)),i(m)));function P(s){l.value=_(_({},i(l)),s)}function h({label:s,labelMinWidth:b,labelStyle:v}){if(!v&&!b)return s;const w=q(_({},v),{minWidth:`${b}px `});return a("div",{style:w},[s])}function g(){const{schema:s,data:b}=i(m);return i(s).map(v=>{const{render:w,field:R,span:j,show:$,contentMinWidth:C}=v;if($&&oe($)&&!$(b))return null;const I=()=>{var E;const x=(E=i(m))==null?void 0:E.data;if(!x)return null;const S=We(x,R);return oe(w)?w(S,x):S!=null?S:""},O=C;return a(ce.Item,{label:h(v),key:R,span:j},{default:()=>{if(!C)return I();const x={minWidth:`${O}px`};return a("div",{style:x},[I()])}})}).filter(v=>!!v)}const y=()=>{let s;return a(ce,ue({class:`${r}`},i(u)),Ye(s=g())?s:{default:()=>[s]})},k=()=>{const s=t.useCollapse?y():a("div",null,[y()]);if(!t.useCollapse)return s;const{canExpand:b,helpMessage:v}=i(p),{title:w}=i(c);return a(Le,{title:w,canExpan:b,helpMessage:v},{default:()=>s,action:()=>Be(e,"action")})};return n("register",{setDescProps:P}),()=>i(d)?k():y()}});function nt(t){if(!Me())throw new Error("useDescription() can only be used inside setup() or functional components!");const e=M(null),n=M(!1);function l(o){i(n)&&Ae()||(e.value=o,t&&o.setDescProps(t),n.value=!0)}return[l,{setDescProps:o=>{var c;(c=i(e))==null||c.setDescProps(o)}}]}const lt=Ee(tt),mt=V({__name:"DetailModal",props:{info:{type:Object,default:null}},setup(t){const{t:e}=ze(),[n]=nt({column:2,schema:Te()});return(l,r)=>(Ve(),Fe(i(Ce),ue({width:800,title:i(e)("sys.errorLog.tableActionDesc")},l.$attrs),{default:Ue(()=>[a(i(lt),{data:t.info,onRegister:i(n)},null,8,["data","onRegister"])]),_:1},16,["title"]))}});export{mt as default};

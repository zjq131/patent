var v=(g,u,n)=>new Promise((l,c)=>{var p=t=>{try{r(n.next(t))}catch(s){c(s)}},d=t=>{try{r(n.throw(t))}catch(s){c(s)}},r=t=>t.done?l(t.value):Promise.resolve(t.value).then(p,d);r((n=n.apply(g,u)).next())});import{u as P,a as h,L as B,_ as b,b as z}from"./LoginFormTitle.03b8485b.js";import{a as E,I as w,c as L,v as y,s as N,w as U,f as V,j as e,o as D,i as T,p as o,B as i,D as x,C as _,t as k,F as j,l as G,H}from"./index.f13df184.js";import{F as S}from"./index.eea8b1fb.js";import"./index.1b5821d3.js";import{S as M}from"./index.83e3f96b.js";import"./_baseIteratee.afed0e27.js";import"./_baseIsEqual.cda019a9.js";import"./get.3bd42a14.js";import"./toInteger.3185abf0.js";import"./isEqual.1f535f8c.js";import"./useSize.e0e747e5.js";import"./responsiveObserve.056994ac.js";const ae=E({__name:"RegisterForm",setup(g){const u=S.Item,n=w.Password,{t:l}=L(),{handleBackLogin:c,getLoginState:p}=P(),d=y(),r=y(!1),t=N(),s=U({account:"",password:"",confirmPassword:""}),{getFormRules:C}=h(s),{validForm:F}=z(d),R=V(()=>e(p)===B.REGISTER);function I(){return v(this,null,function*(){const f=yield F();if(!!f)try{r.value=!0;const a=yield t.register(f);console.log("\u6CE8\u518C\u5B8C\u6210...."),a&&(r.value=!1,H.success("register success"),c())}catch(a){return r.value=!1,Promise.reject(a)}})}return(f,a)=>e(R)?(D(),T(j,{key:0},[o(b,{class:"enter-x"}),o(e(S),{class:"p-4 enter-x",model:s,rules:e(C),ref_key:"formRef",ref:d},{default:i(()=>[o(e(u),{name:"account",class:"enter-x"},{default:i(()=>[o(e(w),{class:"fix-auto-fill",size:"large",value:s.account,"onUpdate:value":a[0]||(a[0]=m=>s.account=m),placeholder:e(l)("sys.login.userName")},null,8,["value","placeholder"])]),_:1}),o(e(u),{name:"password",class:"enter-x"},{default:i(()=>[o(e(M),{size:"large",value:s.password,"onUpdate:value":a[1]||(a[1]=m=>s.password=m),placeholder:e(l)("sys.login.password")},null,8,["value","placeholder"])]),_:1}),o(e(u),{name:"confirmPassword",class:"enter-x"},{default:i(()=>[o(e(n),{size:"large",visibilityToggle:"",value:s.confirmPassword,"onUpdate:value":a[2]||(a[2]=m=>s.confirmPassword=m),placeholder:e(l)("sys.login.confirmPassword")},null,8,["value","placeholder"])]),_:1}),o(e(x),{type:"primary",class:"enter-x",size:"large",block:"",onClick:I,loading:r.value},{default:i(()=>[_(k(e(l)("sys.login.registerButton")),1)]),_:1},8,["loading"]),o(e(x),{size:"large",block:"",class:"mt-4 enter-x",onClick:e(c)},{default:i(()=>[_(k(e(l)("sys.login.backSignIn")),1)]),_:1},8,["onClick"])]),_:1},8,["model","rules"])],64)):G("",!0)}});export{ae as default};
